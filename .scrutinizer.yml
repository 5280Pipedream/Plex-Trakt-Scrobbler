build:
    dependencies:
        before:
            - pip install -t _packages/ https://github.com/FragLegs/pip/archive/patch-for-issue-2953.zip
            - pip install -t _packages/ wheel setuptools
            - PYTHONPATH=_packages/ python _packages/pip/__main__.py install -r Trakttv.bundle/Contents/Tests/requirements.txt
    environment:
        python: 2.7.7
    tests:
        override:
            -
                command: ./Tools/run_tests.sh
                coverage:
                    file: .coverage
                    format: py-cc
checks:
    python:
        code_rating: true
        duplicate_code: true
filter:
    paths:
        - Trakttv.bundle/Contents/Code/*
        - Trakttv.bundle/Contents/Libraries/Shared/plugin/*